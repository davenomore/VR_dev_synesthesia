import{M as s}from"./music-store-Da5ddBIB.js";window.MusicStore=s;let r=new Audio,u=!1;function f(){return localStorage.getItem("preferredLanguage")||"hu"}function l(t){return window.translations&&window.translations[f()][t]||t}window.loadDemo=async function(t,e){n("audioStatusLoading",!0);try{const a=await(await fetch(t)).blob(),i=new File([a],e,{type:"audio/mp3"});await s.saveTrack(i),d(i),n("✅ "+e,!1,!0)}catch(o){n("Error: "+o.message,!1,!0),console.error(o)}};window.loadFromUrlInput=async function(){const t=document.getElementById("url-input").value.trim();t&&window.loadDemo(t,"URL Track")};document.getElementById("music-upload").addEventListener("change",async t=>{const e=t.target.files[0];e&&(n("audioStatusLoading",!0),await s.saveTrack(e),d(e),n("✅ "+e.name,!1,!0))});s.getTrack().then(t=>{t&&(d(t),n("✅ "+t.name,!1,!0))});function n(t,e=!1,o=!1){const a=document.getElementById("music-status");o?(a.textContent=t,a.removeAttribute("data-lang")):(a.setAttribute("data-lang",t),a.textContent=l(t)),a.style.opacity=e?.7:1,document.querySelectorAll("button").forEach(c=>c.disabled=e),e||(document.getElementById("play-preview-btn").disabled=!1)}function d(t){r.src=URL.createObjectURL(t),document.getElementById("play-preview-btn").disabled=!1}window.togglePreview=function(){const t=document.getElementById("play-text"),e=document.getElementById("visualizer");u?(r.pause(),u=!1,t.setAttribute("data-lang","audioPlay"),t.textContent=l("audioPlay"),e.classList.remove("playing")):(r.play(),u=!0,t.setAttribute("data-lang","audioPause"),t.textContent=l("audioPause"),e.classList.add("playing"))};
